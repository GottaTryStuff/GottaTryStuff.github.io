<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
					function OptanonWrapper() { }
				</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual: Debugging C# code in Unity</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1609815866"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1609815866"></script><script type="text/javascript" src="docdata/toc.js?ts=1609815866"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1609815866"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1609815866">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="DocsAnalyticsData" data-area="core" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2019.4</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/ManagedCodeDebugging.html">English</a></li>
<li><a href="/cn/current/Manual/ManagedCodeDebugging.html">中文</a></li>
<li><a href="/ja/current/Manual/ManagedCodeDebugging.html">日本語</a></li>
<li><a href="/es/current/Manual/ManagedCodeDebugging.html">Español</a></li>
<li><a href="/kr/current/Manual/ManagedCodeDebugging.html">한국어</a></li>
<li><a href="/ru/current/Manual/ManagedCodeDebugging.html">Русский</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2019.4</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/ManagedCodeDebugging.html">English</a></li>
<li><a href="/cn/current/Manual/ManagedCodeDebugging.html">中文</a></li>
<li><a href="/ja/current/Manual/ManagedCodeDebugging.html">日本語</a></li>
<li><a href="/es/current/Manual/ManagedCodeDebugging.html">Español</a></li>
<li><a href="/kr/current/Manual/ManagedCodeDebugging.html">한국어</a></li>
<li><a href="/ru/current/Manual/ManagedCodeDebugging.html">Русский</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html"> Unity User Manual (2019.4 LTS)</a></li>
<li><a href="ScriptingSection.html"> Scripting</a></li>
<li><a href="ScriptingSettingUp.html"> Setting Up Your Scripting Environment</a></li>
<li>Debugging C# code in Unity</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="ScriptingToolsIDEs.html"></a></span><div class="tip"> Integrated development environment (IDE) support</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="testing-editortestsrunner.html"></a></span><div class="tip"> Unit Testing</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Debugging C# code in Unity</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Using a debugger allows you to inspect your source code while your application or game is running. Unity supports debugging of C# code using the following code editors:</p>

<ul>
<li><p>Visual Studio (with the Visual Studio Tools for Unity plug-in)</p></li>
<li><p>Visual Studio for Mac</p></li>
<li><p>Jetbrains Rider</p></li>
<li><p>Visual Studio Code</p></li>
</ul>

<p>Although these code editors vary slightly in the debugger features they support, all provide basic functionality like break points, single stepping, and variable inspection.</p>

<p>Managed code debugging in Unity works on all platforms except <span class="tooltip"><strong>WebGL</strong><span class="tooltiptext">A JavaScript API that renders 2D and 3D graphics in a web browser. The Unity WebGL build option allows Unity to publish content as JavaScript programs which use HTML5 technologies and the WebGL rendering API to run Unity content in a web browser. <a class="tooltipMoreInfoLink" href="webgl-gettingstarted.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#WebGL">Glossary</a></span></span></span>. It works with both the Mono and <span class="tooltip"><strong>IL2CPP</strong><span class="tooltiptext">A Unity-developed scripting back-end which you can use as an alternative to Mono when building projects for some platforms. <a href="IL2CPP.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#IL2CPP">Glossary</a></span></span></span> <span class="tooltip"><strong>scripting backends</strong><span class="tooltiptext">A framework that powers scripting in Unity. Unity supports three different scripting backends depending on target platform: Mono, .NET and IL2CPP. Universal Windows Platform, however, supports only two: .NET and IL2CPP. <a href="windowsstore-il2cpp.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#ScriptingBackend">Glossary</a></span></span></span>.</p>

<p><a name="ConfiguringTheCodeEditor"></a></p>

<h2>Configuring the code editor</h2>

<h3>Visual Studio (Windows)</h3>

<p>The Unity Editor installer includes an option to install Visual Studio with the Visual Studio Tools for Unity <span class="tooltip"><strong>plug-in</strong><span class="tooltiptext">A set of code created outside of Unity that creates functionality in Unity. There are two kinds of plug-ins you can use in Unity: Managed plug-ins (managed .NET assemblies created with tools like Visual Studio) and Native plug-ins (platform-specific native code libraries). <a class="tooltipMoreInfoLink" href="Plugins.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Plug-in">Glossary</a></span></span></span>. This is the recommended way to set up Visual Studio for debugging with Unity.</p>

<p>If Visual Studio is already installed on your computer, use its <strong>Tools</strong> &gt; <strong>Extensions and Updates</strong> menu to locate and install the Visual Studio Tools for Unity plug-in.</p>

<h3>Visual Studio for Mac</h3>

<p>The Unity Editor installer includes an option to install Visual Studio for Mac. This is the recommended way to set up Visual Studio for Mac for debugging with Unity.</p>

<p>If Visual Studio for Mac is already installed on your computer, use its Extension Manager to locate and install the Visual Studio Tools for Unity plug-in.</p>

<h3>JetBrains Rider</h3>

<p>The default installation of JetBrains Rider can debug code in Unity on Windows or Mac. Please visit the <a href="https://www.jetbrains.com/help/rider/Unity.html">JetBrains website</a> to install it.</p>

<h3>VS Code</h3>

<p>VS Code requires you to install an extension to debug code in Unity. Please follow the <a href="https://code.visualstudio.com/docs/other/unity">instructions</a> specific to this extension to install it.</p>

<h3>Unity Preferences</h3>

<p>When the code editor is installed, go to <strong>Unity &gt; Preferences &gt; External Tools</strong> and set the <strong>External Script Editor</strong> to your chosen code editor.
<img src="../uploads/Main/MCDExternalTools.png" alt="">
</p>

<h2>Debugging in the Editor</h2>

<p>You can debug script code running in the Unity Editor when the Unity Editor is in Play Mode. Before attempting to debug, ensure the <strong>Editor Attaching</strong> option is enabled in the Unity Preferences. This option causes the Editor to use Just In Time (JIT) compilation to execute managed code with debugging information.</p>

<p>First, set a breakpoint in the code editor on a line of script code where the debugger should stop. In Visual Studio for example, click on the column to the left of your code, on the line you want to stop the debugger (as shown below). A red circle appears next to the line number and the line is highlighted.</p>

<figure>
<img src="../uploads/Main/MCDBreakPoints.png" alt="">
</figure>

<p>Next, attach the code editor to the Unity Editor. This option varies depending on the code editor, and is often a different option from the code editor’s normal debugging process. In Visual Studio, the option looks like this:</p>

<figure>
<img src="../uploads/Main/MCDAttachToUnity.png" alt="">
</figure>

<p>Some code editors may allow you to select an instance of Unity to debug. For example, in Visual Studio, the <strong>Debug &gt; Attach Unity Debugger</strong> option exposes this capability.</p>

<figure>
<img src="../uploads/Main/MCDEditorUnityInstance.png" alt="">
</figure>

<p>When you have attached the code editor to the Unity Editor, return to the Unity Editor and enter Play Mode. When the code at the breakpoint is executed, the debugger will stop, for example:</p>

<figure>
<img src="../uploads/Main/MCDReachedBreakPoint.png" alt="">
</figure>

<p>While the code editor is at a breakpoint, you can view the contents of variables step by step. The Unity Editor will be unresponsive until you choose the continue option in the debugger, or stop debugging mode.</p>

<h2>Debugging in the Player</h2>

<p>To debug script code running in a Unity Player, ensure that you enable the “Development Build” and ”Script Debugging” options before you build the Player (these options are located in <strong>File &gt; Build Settings</strong>). Enable the “Wait For Managed Debugger” option to make the Player wait for a debugger to be attached before it executes any script code.</p>

<figure>
<img src="../uploads/Main/MCDBuildSettings.png" alt="">
</figure>

<p>To attach the code editor to the Unity Player, select the IP address (or machine name) and port of your Player. In Visual Studio, the drop-down menu on the “Attach To Unity” option looks like this:</p>

<figure>
<img src="../uploads/Main/MCDAttachToUnityDropDown.png" alt="">
</figure>

<p>The <strong>Debug</strong> &gt; <strong>Attach Unity Debugger</strong> option looks like this:</p>

<figure>
<img src="../uploads/Main/MCDSelectUnityInstancePlayer.png" alt="">
</figure>

<p>Make sure you attach the debugger to the Player, and not to the Unity Editor (if both are running). When you have attached the debugger, you can proceed with debugging normally.</p>

<h2>Debugging on Android and iOS devices</h2>

<h3>Android</h3>

<p>When debugging a Player running on an Android device, connect to the device via USB or TCP. For example, to connect to an Android device in Visual Studio (Windows), select <strong>Debug &gt; Attach Unity Debugger</strong> option. A list of devices running a Player instance will appear: </p>

<figure>
<img src="../uploads/Main/MCDUnityInstanceAndroidOrIOS.png" alt="">
</figure>

<p>In this case, the phone is connected via USB and Wi-Fi on the same network as the workstation running the Unity Editor and Visual Studio.</p>

<h3>iOS</h3>

<p>When debugging a Player running on an iOS device, connect to the device via TCP. For example, to connect to an iOS device in Visual Studio (Mac), select <strong>Debug</strong> &gt; <strong>Attach Unity Debugger</strong> option. A list of devices running a Player instance will appear: </p>

<figure>
<img src="../uploads/Main/MCDMacIOSAttach.png" alt="">
</figure>

<p>Ensure that the device only has one active network interface (Wi-Fi recommended, turn off cellular data) and that there is no firewall between the IDE and the device blocking the TCP port (port number 56000 in the above screenshot). Debugging over USB is not supported with <span class="tooltip"><strong>iOS</strong><span class="tooltiptext">Apple’s mobile operating system. <a class="tooltipMoreInfoLink" href="iphone.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#iOS">Glossary</a></span></span></span>.</p>

<h2>Troubleshooting the debugger</h2>

<p>Most problems with the debugger occur because the code editor is unable to locate the Unity Editor or the Player. This means that it can’t attach the debugger properly. Because the debugger uses a TCP connection to the Editor or Player, connection issues are often caused by the network. Here are a few steps you can take to troubleshoot basic connection issues.</p>

<h3>Ensure you attach the debugger to the correct Unity instance</h3>

<p>You can attach code editor to any Unity Editor or Unity Player on the local network that has debugging enabled. When attaching the debugger to ensure that you are attaching to the correct instance. If you know the IP address or machine name of the device on which you are running the Unity Player, this helps to locate the correct instance.</p>

<h3>Verify the network connection to the Unity instance</h3>

<p>The code editor uses the same mechanism to locate a Unity instance to debug as the Unity <span class="tooltip"><strong>Profiler</strong><span class="tooltiptext">A window that helps you to optimize your game. It shows how much time is spent in the various areas of your game. For example, it can report the percentage of time spent rendering, animating or in your game logic. <a class="tooltipMoreInfoLink" href="Profiler.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Profiler">Glossary</a></span></span></span> uses. If the code editor cannot find the Unity instance you expect it to find, try to attach the Unity <strong>Profiler</strong> to that instance. If the Unity <strong>Profiler</strong> cannot find it either, a firewall might exist on the machine which you are running the code editor on or the machine which you are running the Unity instance on (or possibly both). If a firewall is in place, see the information <a href="#firewall">about firewall settings below.</a>
</p>

<h3>Ensure the device has only one active network interface</h3>

<p>Many devices have multiple network interfaces. For example, a mobile phone may have both an active cellular connection and an active Wi-Fi connection. To properly connect the debugger for TCP, the IDE needs to make a network connection to the correct interface on the device. If you plan to debug via Wi-Fi, for example, make sure you put the device in airplane mode to disable all other interfaces, then enable Wi-Fi.</p>

<p>You can determine which IP address the Unity Player is telling the IDE to use by looking in the <span class="tooltip"><strong>Player Log</strong><span class="tooltiptext">The .log file created by a Standalone Player that contains a record of events, such as script execution times, the compiler version, and AssetImport time. Log files can help diagnose problems. <a class="tooltipMoreInfoLink" href="LogFiles.html#Player">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#PlayerLog">Glossary</a></span></span></span>. Look for a part of the log like this:</p>

<pre><code>
Multi-casting &quot;[IP] 10.0.1.152 [Port] 55000 [Flags] 3 [Guid] 2575380029 [EditorId] 4264788666 [Version] 1048832 [Id] iPhonePlayer(Joshs-iPhone):56000 [Debug] 1 [PackageName] iPhonePlayer&quot; to [225.0.0.222:54997]...

</code></pre>

<p>This message indicates the IDE will try to use the IP address 10.0.1.152 and port 56000 to connect to the device. This IP address and port must be reachable from the computer running the IDE.</p>

<p><a name="firewall"></a></p>

<h3>Check the firewall settings</h3>

<p>The Unity instance communicates with the code editor via a TCP connection. On most Unity platforms, this TCP connection occurs on an arbitrarily chosen port. Normally, you should not need to know this port, as the code editor should detect it automatically. If that does not work, try to use a network analysis tool to determine which ports might be blocked either on the machine where you are running the code editor, or the machine or device where you are running the Unity instance. When you find the ports, make sure that your firewall allows access to both the port on the machine running the code editor, and the machine running the Unity instance.</p>

<h3>Verify the managed debugging information is available</h3>

<p>If the debugger does attach, but breakpoints don’t load, the debugger may not be able to locate the managed debugging information for the code. Managed code debugging information is stored in files named .pdb, next to the managed assembly (.dll file) on disk.</p>

<p>When the correct preferences and build options are enabled (<a href="#ConfiguringTheCodeEditor">see above</a>, Unity will generate this debugging information automatically. However, Unity cannot generate this debugging information for managed plugins in the Project. It is possible to debug code from managed plugins if the associated .pdb files are next to the managed plugins in the Unity project on disk.</p>

<h3>Prevent the device from locking</h3>

<p>If the device you are using to debug the application has a screen lock, make sure this is disabled. Screen locks cause the debugger to disconnect, and prevent it from re-connecting. It is best to avoid locking the screen during managed code debugging. If the screen does lock, you should restart the application on the device before the debugger can connect again.</p>

<ul>
<li><p><span class="page-edit">2018–09–06 Page published
</span></p></li>
<li><p><span class="page-history">Managed Code Debugging added in 2018.2</span></p></li>
</ul>
<!-- area:core -->
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="ScriptingToolsIDEs.html"></a></span><div class="tip"> Integrated development environment (IDE) support</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="testing-editortestsrunner.html"></a></span><div class="tip"> Unit Testing</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2020 Unity Technologies. Publication Date: 2021-01-05.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
