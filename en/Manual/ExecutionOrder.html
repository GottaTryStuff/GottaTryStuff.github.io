<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
					function OptanonWrapper() { }
				</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual:  Order of execution for event functions</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=1609815866"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=1609815866"></script><script type="text/javascript" src="docdata/toc.js?ts=1609815866"></script><script type="text/javascript" src="docdata/global_toc.js?ts=1609815866"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=1609815866">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="DocsAnalyticsData" data-area="core" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2019.4</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/ExecutionOrder.html">English</a></li>
<li><a href="/cn/current/Manual/ExecutionOrder.html">中文</a></li>
<li><a href="/ja/current/Manual/ExecutionOrder.html">日本語</a></li>
<li><a href="/es/current/Manual/ExecutionOrder.html">Español</a></li>
<li><a href="/kr/current/Manual/ExecutionOrder.html">한국어</a></li>
<li><a href="/ru/current/Manual/ExecutionOrder.html">Русский</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2019.4</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/ExecutionOrder.html">English</a></li>
<li><a href="/cn/current/Manual/ExecutionOrder.html">中文</a></li>
<li><a href="/ja/current/Manual/ExecutionOrder.html">日本語</a></li>
<li><a href="/es/current/Manual/ExecutionOrder.html">Español</a></li>
<li><a href="/kr/current/Manual/ExecutionOrder.html">한국어</a></li>
<li><a href="/ru/current/Manual/ExecutionOrder.html">Русский</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html"> Unity User Manual (2019.4 LTS)</a></li>
<li><a href="ScriptingSection.html"> Scripting</a></li>
<li><a href="ScriptingConcepts.html"> Scripting concepts</a></li>
<li> Order of execution for event functions</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="InstantiatingPrefabs.html"></a></span><div class="tip"> Instantiating Prefabs at run time</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="EventFunctions.html"></a></span><div class="tip">Event Functions</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Order of execution for event functions</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>Running a Unity script executes a number of event functions in a predetermined order. This page describes those event functions and explains how they fit into the execution sequence.</p>

<h2>Script lifecycle overview</h2>

<p>The diagram below summarizes how Unity orders and repeats event functions over a script’s lifetime.</p>

<p>For more information about the various event functions, see the following sections:</p>

<ul>
<li><a href="#FirstSceneLoad">First Scene Load</a></li>
<li><a href="#Editor">Editor</a></li>
<li><a href="#BeforeTheFirstFrameUpdate">Before the first frame update</a></li>
<li><a href="#InBetweenFrames">In between frames</a></li>
<li><a href="#UpdateOrder">Update order</a></li>
<li><a href="#AnimationUpdateLoop">Animation update loop</a></li>
<li><span class="tooltip"><a class="tooltipMoreInfoLink" href="#Rendering">Rendering</a><span class="tooltiptext">The process of drawing graphics to the screen (or to a render texture). By default, the main camera in Unity renders its view to the screen. <a href="GraphicsOverview.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Rendering">Glossary</a></span></span></span></li>
<li><a href="#Coroutines">Coroutines</a></li>
<li><a href="#WhenTheObjectIsDestroyed">When the object is destroyed</a></li>
<li><a href="#WhenQuitting">When quitting</a></li>
</ul>

<p><a name="ScriptLifecycleFlowchart"></a></p>

<h3>Script lifecycle flowchart</h3>

<figure>
<img src="../uploads/Main/monobehaviour_flowchart.svg" alt="">
</figure>

<p>
<strong>Note</strong>: Some browsers do not support SVG image files. If the image above does not display properly (for example, if you cannot see any text), please try another browser, such as <a href="https://www.google.com/chrome/">Google Chrome</a> or <a href="https://www.mozilla.org/">Mozilla Firefox</a>.</p>

<p><a name="FirstSceneLoad"></a></p>

<h2>First Scene load</h2>

<p>These functions get called when a <span class="tooltip"><strong>scene</strong><span class="tooltiptext">A Scene contains the environments and menus of your game. Think of each unique Scene file as a unique level. In each Scene, you place your environments, obstacles, and decorations, essentially designing and building your game in pieces. <a class="tooltipMoreInfoLink" href="CreatingScenes.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Scene">Glossary</a></span></span></span> starts (once for each object in the scene). </p>

<ul>
<li>
<strong>Awake:</strong> This function is always called before any Start functions and also just after a <span class="tooltip"><strong>prefab</strong><span class="tooltiptext">An asset type that allows you to store a GameObject complete with components and properties. The prefab acts as a template from which you can create new object instances in the scene. <a class="tooltipMoreInfoLink" href="Prefabs.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Prefab">Glossary</a></span></span></span> is instantiated. (If a GameObject is inactive during start up Awake is not called until it is made active.)</li>
<li>
<strong>OnEnable:</strong> (only called if the Object is active): This function is called just after the object is enabled. This happens when a MonoBehaviour instance is created, such as when a level is loaded or a <span class="tooltip"><strong>GameObject</strong><span class="tooltiptext">The fundamental object in Unity scenes, which can represent characters, props, scenery, cameras, waypoints, and more. A GameObject’s functionality is defined by the Components attached to it. <a class="tooltipMoreInfoLink" href="class-GameObject.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#GameObject">Glossary</a></span></span></span> with the script component is instantiated.</li>
</ul>

<p>Note that for objects added to the scene, the Awake and OnEnable functions for <em>all</em> <span class="tooltip"><strong>scripts</strong><span class="tooltiptext">A piece of code that allows you to create your own Components, trigger game events, modify Component properties over time and respond to user input in any way you like. <a class="tooltipMoreInfoLink" href="CreatingAndUsingScripts.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Scripts">Glossary</a></span></span></span> will be called before Start, Update, etc are called for any of them. Naturally, this cannot be enforced when you instantiate an object during gameplay.</p>

<p><a name="Editor"></a></p>

<h2>Editor</h2>

<ul>
<li>
<strong>Reset:</strong> Reset is called to initialize the script’s properties when it is first attached to an object and also when the <em>Reset</em> command is used.</li>
<li>
<strong>OnValidate:</strong> OnValidate is called whenever the script’s properties are set, including when an object is deserialized, which can occur at various times, such as when you open a scene in the Editor and after a domain reload.</li>
</ul>

<p><a name="BeforeTheFirstFrameUpdate"></a></p>

<h2>Before the first frame update</h2>

<ul>
<li>
<strong>Start:</strong> Start is called before the first frame update only if the script instance is enabled.</li>
</ul>

<p>For objects that are part of a scene asset, the Start function is called on all scripts before Update, etc is called for any of them. Naturally, this cannot be enforced when you instantiate an object during gameplay.</p>

<p><a name="InBetweenFrames"></a></p>

<h2>In between frames</h2>

<ul>
<li>
<strong>OnApplicationPause:</strong> This is called at the end of the frame where the pause is detected, effectively between the normal frame updates. One extra frame will be issued after <strong>OnApplicationPause</strong> is called to allow the game to show graphics that indicate the paused state.</li>
</ul>

<p><a name="UpdateOrder"></a></p>

<h2>Update Order</h2>

<p>When you’re keeping track of game logic and interactions, animations, <span class="tooltip"><strong>camera</strong><span class="tooltiptext">A component which creates an image of a particular viewpoint in your scene. The output is either drawn to the screen or captured as a texture. <a class="tooltipMoreInfoLink" href="CamerasOverview.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Camera">Glossary</a></span></span></span> positions, etc., there are a few different events you can use. The common pattern is to perform most tasks inside the <strong>Update</strong> function, but there are also other functions you can use.</p>

<ul>
<li><p>
<strong>FixedUpdate:</strong> <strong>FixedUpdate</strong> is often called more frequently than <strong>Update</strong>. It can be called multiple times per frame, if the frame rate is low and it may not be called between frames at all if the frame rate is high. All physics calculations and updates occur immediately after <strong>FixedUpdate</strong>. When applying movement calculations inside <strong>FixedUpdate</strong>, you do not need to multiply your values by <strong>Time.deltaTime</strong>. This is because <strong>FixedUpdate</strong> is called on a reliable timer, independent of the frame rate.</p></li>
<li><p>
<strong>Update:</strong> <strong>Update</strong> is called once per frame. It is the main workhorse function for frame updates.</p></li>
<li><p>
<strong>LateUpdate:</strong> <strong>LateUpdate</strong> is called once per frame, after <strong>Update</strong> has finished. Any calculations that are performed in <strong>Update</strong> will have completed when <strong>LateUpdate</strong> begins. A common use for <strong>LateUpdate</strong> would be a following third-person camera. If you make your character move and turn inside <strong>Update</strong>, you can perform all camera movement and rotation calculations in <strong>LateUpdate</strong>. This will ensure that the character has moved completely before the camera tracks its position.</p></li>
</ul>

<p>In general, you should not rely on the order in which the same event function is invoked for different GameObjects — except when the order is explicitly documented or settable. (If you need a more fine-grained control of the player loop, you can use the <a href="../ScriptReference/LowLevel.PlayerLoop.html">PlayerLoop API</a>.) </p>

<p>You cannot specify the order in which an event function is called for different instances of the same MonoBehaviour subclass. For example, the <strong>Update</strong> function of one MonoBehaviour might be called before or after the <strong>Update</strong> function for the same MonoBehaviour on another GameObject — including its own parent or child GameObjects. </p>

<p>You can specify that the event functions of one MonoBehaviour subclass should be invoked before those of a different subclass (using the Script Execution Order panel of the Project Settings window). For example, if you had two scripts, EngineBehaviour and SteeringBehaviour, you could set the Script Execution Order such that EngineBehaviours always updates before SteeringBehaviours.</p>

<p><a name="AnimationUpdateLoop"></a></p>

<h2>Animation update loop</h2>

<p>These functions and <span class="tooltip"><a class="tooltipMoreInfoLink" href="Profiler.html">Profiler</a><span class="tooltiptext">A window that helps you to optimize your game. It shows how much time is spent in the various areas of your game. For example, it can report the percentage of time spent rendering, animating or in your game logic. <a href="Profiler.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Profiler">Glossary</a></span></span></span> Markers are called when Unity evaluates the Animation system.</p>

<ul>
<li><p>
<strong>OnStateMachineEnter:</strong> During the <strong>State Machine Update</strong> step, this callback is called on the first update frame when a controller’s state machine makes a transition that flows through an Entry state. It is not called for a transition to a <strong>StateMachine</strong> sub-state.<br><br>This callback occurs only if there is a controller component (for example, <a href="../ScriptReference/Animations.AnimatorController.html"><strong>AnimatorController</strong></a> or <a href="../ScriptReference/AnimatorOverrideController.html"><strong>AnimatorOverrideController</strong></a> or <a href="../ScriptReference/Animations.AnimatorControllerPlayable.html"><strong>AnimatorControllerPlayable</strong></a>) in the animation graph.<br><br>
<strong>Note:</strong> Adding this callback to a <a class="tooltipMoreInfoLink" href="../ScriptReference/StateMachineBehaviour.html"><strong>StateMachineBehaviour</strong></a> component disables multithreaded <span class="tooltip"><strong>state machine</strong><span class="tooltiptext">The set of states in an Animator Controller that a character or animated GameObject can be in, along with a set of transitions between those states and a variable to remember the current state. The states available will depend on the type of gameplay, but typical states include things like idling, walking, running and jumping. <a href="StateMachineBasics.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#StateMachine">Glossary</a></span></span></span> evaluation.</p></li>
<li><p>
<strong>OnStateMachineExit:</strong> During the <strong>State Machine Update</strong> step, this callback is called on the last update frame when a controller’s state machine makes a transition that flows through an Exit state. It is not called for a transition to a <strong>StateMachine</strong> sub-state.<br><br>This callback occurs only if there is a controller component (for example, <a href="../ScriptReference/Animations.AnimatorController.html"><strong>AnimatorController</strong></a> or <a href="../ScriptReference/AnimatorOverrideController.html"><strong>AnimatorOverrideController</strong></a> or <a href="../ScriptReference/Animations.AnimatorControllerPlayable.html"><strong>AnimatorControllerPlayable</strong></a>) in the animation graph.<br><br><strong>Note:</strong> Adding this callback to a <a href="../ScriptReference/StateMachineBehaviour.html"><strong>StateMachineBehaviour</strong></a> component disables multithreaded state machine evaluation.</p></li>
<li><p>
<strong>Fire <strong>Animation Events</strong>:</strong> Calls all <span class="tooltip"><strong>animation events</strong><span class="tooltiptext">Allows you to add data to an imported clip which determines when certain actions should occur in time with the animation. For example, for an animated character you might want to add events to walk and run cycles to indicate when the footstep sounds should play. <a class="tooltipMoreInfoLink" href="AnimationEventsOnImportedClips.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#AnimationEvent">Glossary</a></span></span></span> from all clips sampled between the time of the last update and the time of the current update.</p></li>
<li><p>
<strong>StateMachineBehaviour (OnStateEnter/OnStateUpdate/OnStateExit):</strong> A layer can have up to 3 active states: current state, interrupted state, and next state. This function is called for each active state with a StateMachineBehaviour component that defines the <strong>OnStateEnter</strong>, <strong>OnStateUpdate</strong>, or <strong>OnStateExit</strong> callback.<br><br>The function is called for the current state first, then the interrupted state, and finally the next state.<br><br>This step occurs only if there is a controller component (for example, <a href="../ScriptReference/Animations.AnimatorController.html"><strong>AnimatorController</strong></a> or <a href="../ScriptReference/AnimatorOverrideController.html"><strong>AnimatorOverrideController</strong></a> or <a href="../ScriptReference/Animations.AnimatorControllerPlayable.html"><strong>AnimatorControllerPlayable</strong></a>) in the animation graph..</p></li>
<li><p>
<strong>OnAnimatorMove:</strong> Every update frame, this is called once for each <span class="tooltip"><strong>Animator component</strong><span class="tooltiptext">A component on a model that animates that model using the Animation system. The component has a reference to an Animator Controller asset that controls the animation. <a class="tooltipMoreInfoLink" href="class-AnimatorController.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#AnimatorComponent">Glossary</a></span></span></span> to modify the <span class="tooltip"><strong>Root Motion</strong><span class="tooltiptext">Motion of character’s root node, whether it’s controlled by the animation itself or externally. <a href="RootMotion.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#RootMotion">Glossary</a></span></span></span>.</p></li>
<li><p>
<strong>StateMachineBehaviour(OnStateMove):</strong> This is called on each active state with a <a href="../ScriptReference/StateMachineBehaviour.html"><strong>StateMachineBehaviour</strong></a> that defines this callback.</p></li>
<li><p>
<strong>OnAnimatorIK:</strong> Sets up animation IK. This is called once for each Animator Controller layer with <strong>IK pass</strong> enabled.<br><br>This event executes only if you are using a Humanoid rig.</p></li>
<li><p>
<strong>StateMachineBehaviour(OnStateIK):</strong> This is called on each active state with a <a href="../ScriptReference/StateMachineBehaviour.html"><strong>StateMachineBehaviour</strong></a> component that defines this callback on a layer with <strong>IK pass</strong> enabled.</p></li>
<li><p>
<strong>WriteProperties:</strong> Writes all other animated properties to the Scene from the main thread.</p></li>
</ul>

<h3>Useful profile markers</h3>

<p>Some of the animation functions shown in the <a href="#ScriptLifecycleFlowchart">Script Lifecycle Flowchart</a> are not Event functions that you can call; they are internal functions called when Unity processes your animation.</p>

<p>These functions have Profiler Markers, so you can use the <a href="Profiler.html">Profiler</a> to see when in the frame Unity calls them. Knowing when Unity calls these functions can help you understand exactly when the Event functions you do call are executed.</p>

<p>For example, suppose you call <a class="tooltipMoreInfoLink" href="../ScriptReference/Animator.Play.html">Animator.Play</a> in the <strong>FireAnimationEvents</strong> callback. If you know that the <strong>FireAnimationEvents</strong> callback is fired only after the <strong>State Machine Update</strong> and <strong>Process Graph</strong> functions execute, you can anticipate that your <span class="tooltip"><strong>animation clip</strong><span class="tooltiptext">Animation data that can be used for animated characters or simple animations. It is a simple “unit” piece of motion, such as (one specific instance of) “Idle”, “Walk” or “Run”. <a href="class-AnimationClip.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#AnimationClip">Glossary</a></span></span></span> will play on the next frame, and not right away.</p>

<ul>
<li><p>
<strong>State Machine Update:</strong> All state machines are evaluated at this step in the execution sequence. This step occurs only if there is a controller component (for example, <a href="../ScriptReference/Animations.AnimatorController.html"><strong>AnimatorController</strong></a> or <a href="../ScriptReference/AnimatorOverrideController.html"><strong>AnimatorOverrideController</strong></a> or <a href="../ScriptReference/Animations.AnimatorControllerPlayable.html"><strong>AnimatorControllerPlayable</strong></a>) in the animation graph.<br><br><strong>Note:</strong> State machine evaluation is normally multithreaded, but adding certain callbacks (for example <strong>OnStateMachineEnter</strong> and <strong>OnStateMachineExit</strong>) disables multithreading. See <a href="#AnimationUpdateLoop">Animation update loop</a> above for details.</p></li>
<li><p>
<strong>ProcessGraph:</strong> Evaluates all animation graphs. This includes sampling all animation clips that need to be evaluated, and computing Root Motion.</p></li>
<li><p>
<strong>ProcessAnimation:</strong> Blends the results of the animation graph.</p></li>
<li><p>
<strong>WriteTransforms:</strong> Writes all animated transforms to the scene from a worker thread.<br><br>A Humanoid rig with multiple layers that have <strong>IK pass</strong> enabled can have multiple <strong>WriteTransforms</strong> passes (See the <a href="#ScriptLifecycleFlowchart">Script Lifecycle Flowchart</a>.</p></li>
</ul>

<p><a name="Rendering"></a></p>

<h2>Rendering</h2>

<ul>
<li>
<strong>OnPreCull:</strong> Called before the camera culls the scene. Culling determines which objects are visible to the camera. OnPreCull is called just before culling takes place.</li>
<li>
<strong>OnBecameVisible/OnBecameInvisible:</strong> Called when an object becomes visible/invisible to any camera.</li>
<li>
<strong>OnWillRenderObject:</strong> Called <strong>once</strong> for each camera if the object is visible.</li>
<li>
<strong>OnPreRender:</strong> Called before the camera starts rendering the scene.</li>
<li>
<strong>OnRenderObject:</strong> Called after all regular scene rendering is done. You can use <a href="../ScriptReference/GL.html">GL</a> class or <a href="../ScriptReference/Graphics.DrawMeshNow.html">Graphics.DrawMeshNow</a> to draw custom geometry at this point.</li>
<li>
<strong>OnPostRender:</strong> Called after a camera finishes rendering the scene.</li>
<li>
<strong>OnRenderImage:</strong> Called after scene rendering is complete to allow <span class="tooltip"><strong>post-processing</strong><span class="tooltiptext">A process that improves product visuals by applying filters and effects before the image appears on screen. You can use post-processing effects to simulate physical camera and film properties, for example Bloom and Depth of Field. <a class="tooltipMoreInfoLink" href="PostProcessingOverview.html">More info</a> <span class="search-words">post processing, postprocessing, postprocess</span><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#post-processing">Glossary</a></span></span></span> of the image, see <a href="PostProcessingOverview.html">Post-processing Effects</a>.</li>
<li>
<strong>OnGUI:</strong> Called multiple times per frame in response to GUI events. The Layout and Repaint events are processed first, followed by a Layout and keyboard/mouse event for each input event.</li>
<li>
<strong>OnDrawGizmos</strong> Used for drawing <span class="tooltip"><strong>Gizmos</strong><span class="tooltiptext">A graphic overlay associated with a GameObject in a Scene, and displayed in the Scene View. Built-in scene tools such as the move tool are Gizmos, and you can create custom Gizmos using textures or scripting. Some Gizmos are only drawn when the GameObject is selected, while other Gizmos are drawn by the Editor regardless of which GameObjects are selected. <a class="tooltipMoreInfoLink" href="GizmosMenu.html#GizmosIcons">More info</a><br/><span class="tooltipGlossaryLink">See in <a class="tooltipMoreInfoLink" href="Glossary.html#Gizmo">Glossary</a></span></span></span> in the <span class="tooltip"><strong>scene view</strong><span class="tooltiptext">An interactive view into the world you are creating. You use the Scene View to select and position scenery, characters, cameras, lights, and all other types of Game Object. <a href="UsingTheSceneView.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#SceneView">Glossary</a></span></span></span> for visualisation purposes.</li>
</ul>

<p><a name="Coroutines"></a></p>

<h2>Coroutines</h2>

<p>Normal coroutine updates are run after the Update function returns. A coroutine is a function that can suspend its execution (yield) until the given YieldInstruction finishes.
Different uses of Coroutines:</p>

<ul>
<li>
<strong>yield</strong> The coroutine will continue after all Update functions have been called on the next frame.</li>
<li>
<strong>yield WaitForSeconds</strong> Continue after a specified time delay, after all Update functions have been called for the frame.</li>
<li>
<strong>yield WaitForFixedUpdate</strong> Continue after all FixedUpdate has been called on all scripts. If the coroutine yielded before FixedUpdate, then it resumes after FixedUpdate in the current frame.</li>
<li>
<strong>yield WWW</strong> Continue after a WWW download has completed.</li>
<li>
<strong>yield StartCoroutine</strong> Chains the coroutine, and will wait for the MyFunc coroutine to complete first.</li>
</ul>

<p><a name="WhenTheObjectIsDestroyed"></a></p>

<h2>When the Object is destroyed</h2>

<ul>
<li>
<strong>OnDestroy:</strong> This function is called after all frame updates for the last frame of the object’s existence (the object might be destroyed in response to Object.Destroy or at the closure of a scene).</li>
</ul>

<p><a name="WhenQuitting"></a></p>

<h2>When quitting</h2>

<p>These functions get called on all the active objects in your scene:</p>

<ul>
<li>
<strong>OnApplicationQuit:</strong> This function is called on all game objects before the application is quit. In the editor it is called when the user stops playmode.</li>
<li>
<strong>OnDisable:</strong> This function is called when the behaviour becomes disabled or inactive.</li>
</ul>

<hr>

<ul>
<li><span class="page-edit">2019–03–18 Page amended
</span></li>
</ul>
<!-- area:core -->
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="InstantiatingPrefabs.html"></a></span><div class="tip"> Instantiating Prefabs at run time</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="EventFunctions.html"></a></span><div class="tip">Event Functions</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2020 Unity Technologies. Publication Date: 2021-01-05.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
